"use strict";$(document).on("ready",function(){var e=$(".providers-slider li").length,s=e,a=$(window).width();function t(e){$(e).each(function(e){var i=$(this).next(".provider-count").find(".current-slide"),l=$(this).next(".provider-count").find(".slide-count");$(this).on("init reInit afterChange",function(e,s,a,t){var o=(a||0)+1;i.text(o),l.text(s.slideCount)})})}function l(){$(".providers-table-slider").slick({dots:!1,slidesToShow:1,slidesToScroll:1,customPaging:t(".providers-table-slider")})}function r(){$(".providers-table-slider.slick-initialized").slick("unslick")}function n(){$('a[data-target="#legalInfo"]').on("click",function(e){e.preventDefault(),e.stopPropagation();var s=$(this).next(".terms-content").text();$("#legalInfo .modal-body .text-left").text(s),$("#legalInfo").modal("show")})}5<e&&(s=5),$(".providers-slider").slick({dots:!1,accessibility:!0,adaptiveHeight:!0,centerMode:!0,centerPadding:"0px",arrows:!0,slidesToShow:s,mobileFirst:!0,slidesToScroll:1,customPaging:t(".providers-slider"),responsive:[{breakpoint:1020,settings:{slidesToShow:s,slidesToScroll:1}},{breakpoint:991,settings:{slidesToShow:3,slidesToScroll:1}},{breakpoint:600,settings:{slidesToShow:3,slidesToScroll:1}},{breakpoint:480,settings:{slidesToShow:1,slidesToScroll:1}},{breakpoint:318,settings:{slidesToShow:1,slidesToScroll:1}}]}),$(window).load(function(){if(a<768&&location.hash){var e=location.hash.slice(1),s=$("."+e).parent().parent().attr("data-slick-index");$(".terms-table-slider").slick({dots:!1,slidesToShow:1,slidesToScroll:1,adaptiveHeight:!0}),$(".terms-table-slider").slick("slickGoTo",parseInt(s))}}),l(),$(document).on("click",".providers-table .slide-cell",function(){var e=$(this).parent().next(".hidden-row ");e.hasClass("open")?($(this).removeClass("open"),e.removeClass("open")):($(this).addClass("open"),e.addClass("open")),e.find("td .hidden-content").slideToggle()}),$(".tab-offers a").click(function(e){e.preventDefault(),$(this).tab("show"),$(".providers-table-slider").slick("refresh")}),$(".map-section a").on("click",function(e){var s=$(".tab-offers a[href="+e.target.hash+"]");$("html, body").animate({scrollTop:s.offset().top},500),s.tab("show"),$(".providers-table-slider").slick("refresh")}),n(),$("#cyh_process_zip").on("click",function(a){var e;if($("#cyh_process_status").text("").addClass("loading"),!(e=$("#zipCode").val(),/(^\d{5}$)|(^\d{5}-\d{4}$)/.test(e)))return $("#cyh_process_status").addClass("error-message").removeClass("loading").text("Please enter accurate zip code"),void setTimeout(function(){$("#cyh_process_status").removeClass("error-message").text(""),$("#zipCode").val($("#currentZipCode").val())},3e3);var s={action:"cyh_find_city",zip_code:$("#zipCode").val()};$.post(ajax_object.ajax_url,s,function(e){var s=$.parseJSON(e);"success"==s.result?(window.location.href=s.link,$("#cyh_process_status").removeClass("loading error-message")):($("#cyh_process_status").addClass("error-message").removeClass("loading").text("Please enter accurate zip code"),setTimeout(function(){$("#cyh_process_status").removeClass("error-message").text(""),$("#zipCode").val($("#currentZipCode").val())},3e3),a.preventDefault())}),a.preventDefault()}),$("#brandsList").on("change",function(e){var s=$(this).parent().parent().parent().find(".loader"),a=$("#brandsList").val(),t=$("#currentZipCode").val(),o=$("#brandsList option:selected").attr("data-hideTab");if(s.addClass("loading"),"all"==a)$("#allBrandsTab").show(),$("#oneBrandTab").hide(),$("#allBrandsTab1").show(),$("#allBrandsTab1").addClass("active"),$("#allBrandsTab2").removeClass("active"),$("#allBrandsTab2").show(),s.removeClass("loading"),r(),l(),n();else{var i={action:"cyh_show_brand_data",brand_id:a,zip:t};$.post(ajax_object.ajax_url,i,function(e){0<e.length&&(s.removeClass("loading"),$("#allBrandsTab").hide(),document.getElementById("oneBrandTab").innerHTML=e,$("#oneBrandTab").show(),$("#allBrandsTab1").show(),$("#allBrandsTab2").show(),$("#allBrandsTab1").addClass("active"),$("#allBrandsTab2").addClass("active"),$("#"+o).hide(),r(),l(),n())})}e.preventDefault()}),$(document).on("click","a[data-brand-id]",function(e){e.preventDefault();var s=$(this).attr("data-brand-id"),a=$("#all-available-offers"),t=$("#brandsList"),o=$(a).offset();$("html, body").stop().animate({scrollTop:o.top},500),t.val()!==s&&t.val(s).change()})});